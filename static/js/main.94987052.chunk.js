(this["webpackJsonpreact-phonebook"]=this["webpackJsonpreact-phonebook"]||[]).push([[0],{104:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(30),o=n.n(r),u=n(8),s=n(7),i=n(18),b=n(9),l=n.n(b),j=n(1),d=function(){return Object(j.jsxs)("div",{className:l.a.wraper,children:[Object(j.jsx)(i.b,{exact:!0,to:"/register",className:l.a.link,activeClassName:l.a.activeLink,children:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"}),Object(j.jsx)(i.b,{to:"/login",className:l.a.link,activeClassName:l.a.activeLink,children:"\u041b\u043e\u0433\u0456\u043d"})]})},O=function(t){return t.auth.isAuthenticated},f=function(t){return t.auth.user.email};function h(){var t=Object(s.d)(O);return Object(j.jsxs)("nav",{className:"",children:[Object(j.jsx)(i.b,{exact:!0,to:"/",className:l.a.link,activeClassName:l.a.activeLink,children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),t&&Object(j.jsx)(i.b,{to:"/phonebook",className:l.a.link,activeClassName:l.a.activeLink,children:"Phonebook"})]})}var p=n(29);function m(){var t=Object(s.c)(),e=Object(s.d)(f),n=Object(c.useCallback)((function(){return t(Object(p.c)())}),[t]);return Object(j.jsxs)("div",{className:l.a.wraper,children:[Object(j.jsx)("img",{className:l.a.img,src:"https://www.flaticon.com/svg/static/icons/svg/3135/3135715.svg",alt:""}),Object(j.jsxs)("span",{className:l.a.text,children:["Email: ",e]}),Object(j.jsx)("button",{className:l.a.button,type:"button",onClick:n,children:"\u0412\u0438\u0439\u0442\u0438"})]})}function x(){var t=Object(s.d)(O);return Object(j.jsxs)("header",{className:l.a.header,children:[Object(j.jsx)(h,{}),t?Object(j.jsx)(m,{}):Object(j.jsx)(d,{})]})}var _=n(39),v=n(22),k=n.n(v),g=function(t){var e=t.handleSubmit,n=t.handlName,c=t.handleNumber,a=t.value,r=t.number,o=!(a&&r);return Object(j.jsxs)("form",{onSubmit:e,className:k.a.form,children:[Object(j.jsxs)("label",{className:k.a.label,children:["Name",Object(j.jsx)("input",{className:k.a.input,type:"text",placeholder:"Enter name",onChange:n,value:a,name:"name"})]}),Object(j.jsxs)("label",{className:k.a.label,children:["Number",Object(j.jsx)("input",{className:k.a.input,type:"number",placeholder:"Enter number",onChange:c,value:r,name:"number"})]}),o?Object(j.jsx)("button",{type:"submit",disabled:o,className:k.a.disabled,children:"Add contact"}):Object(j.jsx)("button",{type:"submit",disabled:o,className:k.a.button,children:"Add contact"})]})},N=n(35),y=n.n(N),C=n(2),w=Object(C.b)("phonebook/fetchContactsRequest"),L=Object(C.b)("phonebook/fetchContactsSucces"),S=Object(C.b)("phonebook/fetchContactsFeilure"),R=Object(C.b)("contacts/addContactRequest"),A=Object(C.b)("contacts/addContactSucces"),U=Object(C.b)("contacts/addContactsFeilure"),E=Object(C.b)("contacts/deleteContactRequest"),T=Object(C.b)("contacts/deleteContactSucces"),F=Object(C.b)("contacts/deleteContactsFeilure"),I=Object(C.b)("phonebook/Filter"),J=n(23),z=function(t){return t.todos.loading},G=function(t){return t.todos.contacts},q=function(t){return t.todos.filter},P=Object(J.a)(q,G,(function(t,e){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}));function D(){var t=Object(s.c)(),e=Object(s.d)(q);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{className:y.a.title,children:"Find contacts by name"}),Object(j.jsx)("label",{className:y.a.cont,children:Object(j.jsx)("input",{type:"text",value:e,className:y.a.input,name:"filter",onChange:function(e){return t(I(e.target.value))}})})]})}var B=n(28),X=n.n(B),H=n(12),M=n.n(H),Q=n(20),Y=n(16),V=n.n(Y);V.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var W=Object(s.b)((function(t){return{visibleContacts:P(t)}}),(function(t){return{onDelete:function(e){return t((n=e.target.id,function(t){t(E()),V.a.delete("/contacts/".concat(n)).then((function(){return t(T(n))})).catch((function(e){return t(F(e.massage))}))}));var n}}}))((function(t){var e=t.onDelete,n=t.visibleContacts.map((function(t){var n=t.id,c=t.name,a=t.number;return Object(j.jsxs)("li",{className:X.a.itemLi,children:[Object(j.jsxs)("span",{className:X.a.text,children:[c,": ",a]}),Object(j.jsx)("button",{type:"button",className:X.a.button,id:n,onClick:e,children:"Delete"})]},n)}));return Object(j.jsx)("ul",{className:X.a.list,children:n})})),Z=n(36),K=n.n(Z),$=n(24),tt=n.n($),et=n(25),nt=n.n(et);function ct(){var t=Object(s.c)(),e=Object(c.useState)(""),n=Object(_.a)(e,2),a=n[0],r=n[1],o=Object(c.useState)(""),u=Object(_.a)(o,2),i=u[0],b=u[1];Object(c.useEffect)((function(){t(function(){var t=Object(Q.a)(M.a.mark((function t(e){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(w()),t.prev=1,t.next=4,V.a.get("/contacts");case 4:n=t.sent,e(L(n.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(S(t.t0.massage));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())}),[t]);var l=Object(s.d)(G),d=Object(s.d)(z),O=function(){r(""),b("")};return Object(j.jsxs)("div",{className:K.a.container,children:[Object(j.jsx)("h1",{className:K.a.title,children:"Phonebook"}),Object(j.jsx)(g,{handleSubmit:function(e){e.preventDefault(),l.some((function(t){return t.name===a}))?alert("\u0406\u043c\u044f ".concat(a," \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454!")):(t(function(t,e){return function(){var n=Object(Q.a)(M.a.mark((function n(c){var a,r;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={name:t,number:e},c(R()),n.prev=2,n.next=5,V.a.post("/contacts",a);case 5:r=n.sent,c(A(r.data)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),c(U(n.t0.massage));case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(t){return n.apply(this,arguments)}}()}(a,i)),O())},handlName:function(t){r(t.target.value)},handleNumber:function(t){b(t.target.value)},value:a,number:i}),Object(j.jsx)("h2",{className:K.a.title2,children:"Contacts"}),Object(j.jsx)(D,{}),Object(j.jsx)(W,{}),d&&Object(j.jsx)(tt.a,{type:"Grid",color:"royalblue",height:40,width:40,className:nt.a.loader})]})}var at=n(21),rt=n(34),ot=Object(s.b)((function(t){return{isAuthenticated:O(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,c=t.redirectTo,a=Object(rt.a)(t,["component","isAuthenticated","redirectTo"]);return Object(j.jsx)(u.b,Object(at.a)(Object(at.a)({},a),{},{render:function(t){return n?Object(j.jsx)(e,Object(at.a)({},t)):Object(j.jsx)(u.a,{to:c})}}))})),ut=Object(s.b)((function(t){return{isAuthenticated:O(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,c=t.redirectTo,a=Object(rt.a)(t,["component","isAuthenticated","redirectTo"]);return Object(j.jsx)(u.b,Object(at.a)(Object(at.a)({},a),{},{render:function(t){return n&&a.restricted?Object(j.jsx)(u.a,{to:c}):Object(j.jsx)(e,Object(at.a)({},t))}}))})),st=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,107))})),it=Object(c.lazy)((function(){return n.e(5).then(n.bind(null,108))})),bt=Object(c.lazy)((function(){return n.e(4).then(n.bind(null,109))}));function lt(){var t=Object(s.c)();return Object(c.useEffect)((function(){t(Object(p.a)())}),[t]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x,{}),Object(j.jsx)(c.Suspense,{fallback:Object(j.jsx)(tt.a,{type:"Grid",color:"royalblue",height:80,width:80,className:nt.a.appLoader}),children:Object(j.jsxs)(u.d,{children:[Object(j.jsx)(u.b,{exact:!0,path:"/",component:st}),Object(j.jsx)(ut,{path:"/register",redirectTo:"/phonebook",restricted:!0,component:it}),Object(j.jsx)(ut,{path:"/login",redirectTo:"/phonebook",restricted:!0,component:bt}),Object(j.jsx)(ot,{path:"/phonebook",component:ct,redirectTo:"/login"}),Object(j.jsx)(u.a,{to:"/"})]})})]})}var jt,dt,Ot,ft,ht,pt,mt=n(33),xt=n(3),_t=n(10),vt=n(4),kt=Object(C.c)([],(jt={},Object(xt.a)(jt,L,(function(t,e){return e.payload})),Object(xt.a)(jt,A,(function(t,e){var n=e.payload;return[].concat(Object(mt.a)(t),[n])})),Object(xt.a)(jt,T,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id.toString()!==n.toString()}))})),Object(xt.a)(jt,vt.i,(function(){return[]})),jt)),gt=Object(C.c)(!1,(dt={},Object(xt.a)(dt,w,(function(){return!0})),Object(xt.a)(dt,L,(function(){return!1})),Object(xt.a)(dt,S,(function(){return!1})),Object(xt.a)(dt,R,(function(){return!0})),Object(xt.a)(dt,A,(function(){return!1})),Object(xt.a)(dt,U,(function(){return!1})),Object(xt.a)(dt,E,(function(){return!0})),Object(xt.a)(dt,T,(function(){return!1})),Object(xt.a)(dt,F,(function(){return!1})),dt)),Nt=Object(C.c)("",Object(xt.a)({},I,(function(t,e){return e.payload}))),yt=Object(_t.c)({contacts:kt,filter:Nt,loading:gt}),Ct=n(19),wt={name:null,email:null},Lt=Object(C.c)(wt,(Ot={},Object(xt.a)(Ot,vt.l,(function(t,e){return e.payload.user})),Object(xt.a)(Ot,vt.f,(function(t,e){return e.payload.user})),Object(xt.a)(Ot,vt.i,(function(){return wt})),Object(xt.a)(Ot,vt.c,(function(t,e){return e.payload})),Ot)),St=Object(C.c)(null,(ft={},Object(xt.a)(ft,vt.l,(function(t,e){return e.payload.token})),Object(xt.a)(ft,vt.f,(function(t,e){return e.payload.token})),Object(xt.a)(ft,vt.i,(function(){return null})),ft)),Rt=Object(C.c)(null,(ht={},Object(xt.a)(ht,vt.j,(function(t,e){return e.payload})),Object(xt.a)(ht,vt.d,(function(t,e){return e.payload})),Object(xt.a)(ht,vt.g,(function(t,e){return e.payload})),Object(xt.a)(ht,vt.a,(function(t,e){return e.payload})),ht)),At=Object(C.c)(!1,(pt={},Object(xt.a)(pt,vt.l,(function(){return!0})),Object(xt.a)(pt,vt.f,(function(){return!0})),Object(xt.a)(pt,vt.c,(function(){return!0})),Object(xt.a)(pt,vt.j,(function(){return!1})),Object(xt.a)(pt,vt.d,(function(){return!1})),Object(xt.a)(pt,vt.a,(function(){return!1})),Object(xt.a)(pt,vt.i,(function(){return!1})),pt)),Ut=Object(_t.c)({user:Lt,isAuthenticated:At,token:St,error:Rt}),Et=n(53),Tt=n.n(Et),Ft=Object(mt.a)(Object(C.d)({serializableCheck:{ignoredActions:[Ct.a,Ct.f,Ct.b,Ct.c,Ct.d,Ct.e]}})),It={key:"token",storage:Tt.a,whitelist:["token"]},Jt=Object(C.a)({reducer:{auth:Object(Ct.g)(It,Ut),todos:yt},middleware:Ft,devTools:!1}),zt=Object(Ct.h)(Jt),Gt=n(54);o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(s.a,{store:Jt,children:Object(j.jsx)(Gt.a,{loading:Object(j.jsx)(tt.a,{type:"Grid",color:"royalblue",height:40,width:40,className:nt.a.loader}),persistor:zt,children:Object(j.jsx)(i.a,{children:Object(j.jsx)(lt,{})})})})}),document.getElementById("root"))},22:function(t,e,n){t.exports={input:"Input_input__-hQvm",form:"Input_form__3SwGh",label:"Input_label__2CmRX",disabled:"Input_disabled__1Qzsi",button:"Input_button__XHWEL Input_disabled__1Qzsi"}},25:function(t,e,n){t.exports={loader:"Loader_loader__1TLGf",appLoader:"Loader_appLoader__1VYvH Loader_loader__1TLGf"}},28:function(t,e,n){t.exports={itemLi:"ContactsList_itemLi__1_yjT",button:"ContactsList_button__3JOG4",text:"ContactsList_text__2_py6",list:"ContactsList_list__JIYR9"}},29:function(t,e,n){"use strict";n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return j})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return O}));var c=n(12),a=n.n(c),r=n(20),o=n(16),u=n.n(o),s=n(4),i=function(t){u.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){u.a.defaults.headers.common.Authorization=""},l=function(t){return function(){var e=Object(r.a)(a.a.mark((function e(n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(s.k)()),e.prev=1,e.next=4,u.a.post("/users/signup",t);case 4:c=e.sent,i(c.data.token),n(Object(s.l)(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(s.j)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},j=function(t){return function(){var e=Object(r.a)(a.a.mark((function e(n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(s.e)()),e.prev=1,e.next=4,u.a.post("/users/login",t);case 4:c=e.sent,i(c.data.token),n(Object(s.f)(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(s.d)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},d=function(){return function(){var t=Object(r.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(s.h)()),t.prev=1,t.next=4,u.a.post("/users/logout");case 4:b(),e(Object(s.i)()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(Object(s.g)(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},O=function(){return function(){var t=Object(r.a)(a.a.mark((function t(e,n){var c,r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n(),r=c.auth.token){t.next=3;break}return t.abrupt("return");case 3:return i(r),e(Object(s.b)()),t.prev=5,t.next=8,u.a.get("/users/current");case 8:o=t.sent,e(Object(s.c)(o.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(Object(s.a)(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()}},35:function(t,e,n){t.exports={title:"Filter_title__2xGNj",input:"Filter_input__1xNtJ",cont:"Filter_cont__1_MfN"}},36:function(t,e,n){t.exports={container:"Phonebook_container__2Jm1H",title:"Phonebook_title__Iu62X",title2:"Phonebook_title2__3MtR9 Phonebook_title__Iu62X"}},4:function(t,e,n){"use strict";n.d(e,"k",(function(){return a})),n.d(e,"l",(function(){return r})),n.d(e,"j",(function(){return o})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return s})),n.d(e,"d",(function(){return i})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return l})),n.d(e,"g",(function(){return j})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return O})),n.d(e,"a",(function(){return f}));var c=n(2),a=Object(c.b)("auth/registerRequest"),r=Object(c.b)("auth/registerSuccess"),o=Object(c.b)("auth/registerError"),u=Object(c.b)("auth/loginRequest"),s=Object(c.b)("auth/loginSuccess"),i=Object(c.b)("auth/loginError"),b=Object(c.b)("auth/logoutRequest"),l=Object(c.b)("auth/logoutSuccess"),j=Object(c.b)("auth/logoutError"),d=Object(c.b)("auth/getCurrentUserRequest"),O=Object(c.b)("auth/getCurrentUserSuccess"),f=Object(c.b)("auth/getCurrentUserError")},9:function(t,e,n){t.exports={header:"User_header__3JS5B",wraper:"User_wraper__2JB4S",link:"User_link__20dJu",activeLink:"User_activeLink__1RNjR User_link__20dJu",img:"User_img__dmws-",text:"User_text__PRw5s",button:"User_button__2Z6D7"}}},[[104,1,2]]]);
//# sourceMappingURL=main.94987052.chunk.js.map